# Laba_Python_2
# Python Bash Shell

Мини-оболочка на Python, имитирующая поведение bash с поддержкой основных файловых операций, архивов и отмены действий.

## Особенности

- Полная совместимость с bash-подобным интерфейсом
- Поддержка относительных и абсолютных путей
- Логирование всех операций в файл log_file
- История команд с сохранением между сессиями
- Отмена действий для операций с файлами

## Установка и запуск

### Требования
- Python 3.6+
- WSL (для пользователей Windows)


Основные команды
ls [path] [-l]
Показывает содержимое директории.

-l - подробный вывод с правами доступа, размером и датой

bash
ls
ls -l
ls /home/user
cd [path]
Смена текущей директории.

~ - домашняя директория

.. - родительская директория

bash
cd /home/user
cd ..
cd ~
cat <file>
Выводит содержимое файла.

bash
cat file.txt
cp <source> <destination> [-r]
Копирование файлов и директорий.

-r - рекурсивное копирование директорий

bash
cp file1.txt file2.txt
cp -r dir1 dir2
mv <source> <destination>
Перемещение или переименование файлов и директорий.

bash
mv old.txt new.txt
mv file.txt /target/directory/
rm <target> [-r]
Удаление файлов и директорий.

-r - рекурсивное удаление директорий

Запрашивает подтверждение для удаления директорий

bash
rm file.txt
rm -r directory
Работа с архивами
zip <folder> <archive.zip>
Создание ZIP архива.

bash
zip my_folder archive.zip
unzip <archive.zip>
Распаковка ZIP архива в текущую директорию.

bash
unzip archive.zip
tar <folder> <archive.tar.gz>
Создание TAR.GZ архива.

bash
tar my_folder archive.tar.gz
untar <archive.tar.gz>
Распаковка TAR.GZ архива.

bash
untar archive.tar.gz
Поиск и утилиты
grep <pattern> <path> [-r] [-i]
Поиск текста в файлах.

-r - рекурсивный поиск в поддиректориях

-i - игнорирование регистра

bash
grep "hello" file.txt
grep -r "pattern" /path/
grep -i "TEST" file.txt
history
Показывает историю последних команд.

bash
history
undo
Отменяет последнюю операцию с файлами (cp, mv, rm).

bash
undo
exit / quit
Выход из оболочки.

bash
exit
Особенности реализации
Логирование
Все команды логируются в файл shell.log в формате:

text
[2024-01-15 10:00:01] ls -l
[2024-01-15 10:00:02] ERROR: ls - nonexistent - No such directory
История команд
История сохраняется в файл .history и загружается при следующем запуске.

Отмена действий
Поддерживается отмена для:

cp - удаляет скопированный файл

mv - возвращает файл в исходное расположение

rm - восстанавливает файл из временной копии

Временные копии хранятся в директории .trash.

Обработка ошибок
Проверка существования файлов и директорий

Проверка прав доступа

Защита от удаления системных директорий

Корректная обработка специальных символов в путях

Структура проекта
text
src_2/
├── main.py              # Главный файл оболочки
├── log.py                # Логирование
├── history.py            # Управление историей
├── undo.py               # Отмена действий
├── ls.py                 # Команда ls
├── cd.py                 # Команда cd
├── cat.py                # Команда cat
├── cp.py                 # Команда cp
├── mv.py                 # Команда mv
├── rm.py                 # Команда rm
├── zip.py                # Команды zip/unzip
├── tar.py                # Команды tar/untar
└── grep.py               # Команда grep
Тестирование
Запуск тестов:

bash
python tests_2/tests_2.py
Тесты покрывают:

Все основные команды

Обработку ошибок

Работу с архивами

Логирование и историю

Требования к коду
Использование pathlib для работы с путями

Обработка исключений через try/except

Логирование всех операций

Поддержка относительных путей

Примечания
Не использует системные вызовы (subprocess)

Все операции выполняются средствами Python

Кроссплатформенная работа (Windows/Linux/macOS)

Совместимость с WSL

Использованные технологии
pathlib - работа с файловыми путями
os 
shutil
datetime
logging
zipfile
tarfile

shutil - файловые операции (копирование, перемещение)

zipfile - работа с ZIP архивами
